{"version":3,"file":"NativeException.js","sourceRoot":"","sources":["../../src/errors/NativeException.ts"],"names":[],"mappings":"AAAA,MAAM,eAAgB,SAAQ,KAAK;IACjC,IAAI,CAAS;IACb,MAAM,CAAS;IACf,KAAK,CAAyB;IAE9B,YAAY,IAAY,EAAE,MAAc,EAAE,KAA8B;QACtE,KAAK,CAAC,mBAAmB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,KAAK,IAAI,IAAI,CAAC;QAE3B,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;QAE/B,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK;YACtB,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC;aAC1B,KAAK,CAAC,IAAI,CAAC;aACX,MAAM,CAAC,CAAC,CAAC;aACT,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE;YACf,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;QAEL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAEnB,IAAI,CAAC,KAAK,GAAG,UAAU,IAAI,CAAC,OAAO,KAAK,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;IAC9D,CAAC;IAED,IAAI,SAAS;QACX,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;QAEvB,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,IAAI,CAAC;SACb;QACD,IAAI,KAAK,YAAY,eAAe,EAAE;YACpC,OAAO,KAAK,CAAC,SAAS,CAAC;SACxB;QACD,OAAO,KAAK,CAAC;IACf,CAAC;CACF;AAED,SAAS,mBAAmB,CAAC,MAAc,EAAE,KAAoB;IAC/D,OAAO,KAAK,CAAC,CAAC,CAAC,GAAG,MAAM,kBAAkB,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;AACrE,CAAC;AAED,eAAe,eAAe,CAAC","sourcesContent":["class NativeException extends Error {\n  code: string;\n  reason: string;\n  cause: NativeException | null;\n\n  constructor(code: string, reason: string, cause?: NativeException | null) {\n    super(getExceptionMessage(reason, cause));\n    this.code = code;\n    this.reason = reason;\n    this.cause = cause ?? null;\n\n    console.log(typeof this.stack);\n\n    const stack = this.stack\n      ?.replace(this.message, '')\n      .split('\\n')\n      .splice(1)\n      .filter((line) => {\n        return !line.includes('at NativeException ');\n      });\n\n    console.log(stack);\n\n    this.stack = `Error: ${this.message}\\n${stack?.join('\\n')}`;\n  }\n\n  get rootCause(): NativeException {\n    const { cause } = this;\n\n    if (!cause) {\n      return this;\n    }\n    if (cause instanceof NativeException) {\n      return cause.rootCause;\n    }\n    return cause;\n  }\n}\n\nfunction getExceptionMessage(reason: string, cause?: Error | null): string {\n  return cause ? `${reason}\\nâ†’ Caused by: ${cause.message}` : reason;\n}\n\nexport default NativeException;\n"]}